<svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
  <!-- 배경 -->
  <rect width="800" height="500" fill="#f8f9fa" />
  
  <!-- 제목 -->
  <text x="400" y="40" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">무작위 흐름 속도(Random Flow Velocity) 시각화</text>
  
  <!-- 노이즈와 데이터 분포 시각화 -->
  <g transform="translate(40, 80)">
    <!-- t 축 -->
    <line x1="0" y1="300" x2="720" y2="300" stroke="#333" stroke-width="2" />
    <text x="360" y="330" font-family="Arial" font-size="16" text-anchor="middle">시간 t</text>
    <text x="0" y="330" font-family="Arial" font-size="14" text-anchor="middle">t=0</text>
    <text x="720" y="330" font-family="Arial" font-size="14" text-anchor="middle">t=T</text>
    
    <!-- 분포 그래프들 -->
    <!-- 데이터 분포 p(x₀) -->
    <ellipse cx="90" cy="250" rx="70" ry="40" fill="#4285f4" fill-opacity="0.5" />
    <text x="90" y="250" font-family="Arial" font-size="14" text-anchor="middle" fill="#000">데이터 분포 p(x₀)</text>
    
    <!-- 중간 분포 p(x_t) -->
    <ellipse cx="360" cy="180" rx="100" ry="70" fill="#0f9d58" fill-opacity="0.5" />
    <text x="360" y="180" font-family="Arial" font-size="14" text-anchor="middle" fill="#000">중간 분포 p(x_t)</text>
    
    <!-- 노이즈 분포 p(x_T) -->
    <ellipse cx="630" cy="120" rx="80" ry="80" fill="#db4437" fill-opacity="0.5" />
    <text x="630" y="120" font-family="Arial" font-size="14" text-anchor="middle" fill="#000">노이즈 분포 p(x_T)</text>
    
    <!-- 흐름 경로 시각화 -->
    <!-- 경로 1 -->
    <path d="M 140,240 Q 280,200 400,175" stroke="#666" stroke-width="1.5" stroke-dasharray="4" fill="none" />
    <path d="M 400,175 Q 520,150 600,120" stroke="#666" stroke-width="1.5" stroke-dasharray="4" fill="none" />
    
    <!-- 경로 2 -->
    <path d="M 100,270 Q 260,230 380,190" stroke="#666" stroke-width="1.5" stroke-dasharray="4" fill="none" />
    <path d="M 380,190 Q 500,170 580,130" stroke="#666" stroke-width="1.5" stroke-dasharray="4" fill="none" />
    
    <!-- 경로 3 -->
    <path d="M 60,250 Q 220,210 340,180" stroke="#666" stroke-width="1.5" stroke-dasharray="4" fill="none" />
    <path d="M 340,180 Q 460,150 640,100" stroke="#666" stroke-width="1.5" stroke-dasharray="4" fill="none" />
    
    <!-- 무작위 흐름 속도 시각화 -->
    <!-- 특정 점 x_t 표시 -->
    <circle cx="360" cy="180" r="6" fill="#f4b400" stroke="#000" stroke-width="1" />
    <text x="355" y="160" font-family="Arial" font-size="16" text-anchor="middle">x_t</text>
    
    <!-- 조건부 분포 p(x₀|x_t) 시각화 -->
    <ellipse cx="150" cy="250" rx="40" ry="25" fill="#f4b400" fill-opacity="0.3" stroke="#f4b400" stroke-width="1" stroke-dasharray="3" />
    <text x="150" y="250" font-family="Arial" font-size="12" text-anchor="middle">p(x₀|x_t)</text>
    
    <!-- u 벡터들 시각화 -->
    <line x1="360" y1="180" x2="295" y2="220" stroke="#9c27b0" stroke-width="2" marker-end="url(#arrowhead)" />
    <line x1="360" y1="180" x2="330" y2="235" stroke="#9c27b0" stroke-width="2" marker-end="url(#arrowhead)" />
    <line x1="360" y1="180" x2="280" y2="230" stroke="#9c27b0" stroke-width="2" marker-end="url(#arrowhead)" />
    
    <!-- 평균 벡터 (ODE 속도장) -->
    <line x1="360" y1="180" x2="300" y2="230" stroke="#e91e63" stroke-width="3" marker-end="url(#arrowhead2)" />
    <text x="320" y="200" font-family="Arial" font-size="14" text-anchor="middle" fill="#e91e63">E[u]</text>
    
    <!-- 수식 -->
    <text x="480" y="230" font-family="Arial" font-size="18" text-anchor="start">u = (x_t - x₀) / σ_t</text>
    <text x="480" y="260" font-family="Arial" font-size="18" text-anchor="start">dx_t/dt = E_{x₀~p(x₀|x_t)}[u]</text>
  </g>
  
  <!-- 범례 -->
  <g transform="translate(430, 400)">
    <rect x="0" y="0" width="15" height="15" fill="#9c27b0" />
    <text x="25" y="12" font-family="Arial" font-size="14">무작위 흐름 속도 u</text>
    
    <rect x="200" y="0" width="15" height="15" fill="#e91e63" />
    <text x="225" y="12" font-family="Arial" font-size="14">ODE 속도장 E[u]</text>
  </g>
  
  <!-- 화살표 마커 정의 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#9c27b0" />
    </marker>
    <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e91e63" />
    </marker>
  </defs>
</svg>